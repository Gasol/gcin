--- a/Makefile
+++ b/Makefile
@@ -11,14 +11,17 @@
 GCIN_SO= gcin1.so gcin2.so
 
 OBJS=gcin.o eve.o util.o gcin-conf.o gcin-settings.o locale.o gcin-icon.o \
-     gcin-switch.o gcin-exec-script.o $(GCIN_SO) pho-play.o cache.o gtk_bug_fix.o \
+     gcin-switch.o gcin-exec-script.o pho-play.o cache.o gtk_bug_fix.o \
+     intcode.o win-int.o win-message.o win-sym.o \
+     win-inmd-switch.o pinyin.o win-pho-near.o win-kbm.o \
+     tsin-char.o anthy.o \
      $(gcin_pho_o) $(gcin_gtab_o) gcin-common.o phrase.o t2s-lookup.o gtab-use-count.o
 
 OBJS_TSLEARN=tslearn.o util.o gcin-conf.o pho-util.o tsin-util.o gcin-send.o pho-sym.o \
              table-update.o locale.o gcin-settings.o gcin-common.o gcin-icon.o
 OBJS_JUYIN_LEARN=juyin-learn.o locale.o util.o pho-util.o pho-sym.o \
                  gcin-settings.o gcin-conf.o table-update.o pinyin.o gcin-icon.o
-OBJS_sim2trad=sim2trad.o util.o gcin2.so locale.o gcin-conf.o gcin-icon.o
+OBJS_sim2trad=sim2trad.o util.o t2s-lookup.o locale.o gcin-conf.o gcin-icon.o
 OBJS_phod2a=phod2a.o pho-util.o gcin-conf.o pho-sym.o table-update.o pho-dbg.o locale.o \
              gcin-settings.o util.o
 OBJS_tsa2d32=tsa2d32.o gcin-send.o util.o pho-sym.o gcin-conf.o locale.o pho-lookup.o
@@ -124,7 +127,6 @@
 	if [ $(QT4_IM) = 'Y' ]; then $(MAKE) -C qt4-im; fi
 
 gcin:   $(OBJS) $(IMdkitLIB) $(OBJ_IMSRV)
-	LD_RUN_PATH=$(gcin_ld_run_path) \
 	$(CCLD) $(EXTRA_LDFLAGS) -o $@ $(OBJS) $(IMdkitLIB) $(OBJ_IMSRV) -lXtst $(LDFLAGS) -L/usr/X11R6/lib
 	rm -f core.*
 	ln -sf $@ $@.test
@@ -142,7 +144,6 @@
 	$(CCLD) -o $@ $(OBJS_JUYIN_LEARN) $(LDFLAGS)
 	rm -f core.*
 sim2trad:        $(OBJS_sim2trad)
-	LD_RUN_PATH=$(gcin_ld_run_path) \
 	$(CC) -o $@ $(OBJS_sim2trad) $(LDFLAGS)
 	rm -f core.*
 trad2sim:	sim2trad
@@ -240,14 +241,11 @@
 	install $(PROGS) $(bindir); \
 	cp gcin-nocur $(bindir)/gcin; \
 	rm -f $(bindir)/trad2sim; ln -sf sim2trad $(bindir)/trad2sim
-	install $(GCIN_SO) $(gcinlibdir)
 
 install:
-	install -d $(datadir)/icons
-	install -m 644 gcin.png $(datadir)/icons
+	install -d $(datadir)/pixmaps
+	install -m 644 gcin.png $(datadir)/pixmaps
 	$(MAKE) -C icons install
-	install -d $(gcinlibdir)
-	install $(GCIN_SO) $(gcinlibdir)
 	install -d $(bindir)
 	$(MAKE) -C data install
 	$(MAKE) -C im-client install
@@ -263,7 +261,7 @@
 	else \
 	   install -d $(DOC_DIR_i); \
 	   install -m 644 README.html Changelog.html $(DOC_DIR_i); \
-	   install -s $(PROGS) $(bindir); \
+	   install $(PROGS) $(bindir); \
 	   rm -f $(bindir)/trad2sim; ln -sf sim2trad $(bindir)/trad2sim; \
 	fi
 	$(MAKE) -C scripts install
